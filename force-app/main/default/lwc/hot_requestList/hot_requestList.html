<template>

	<div class="brodsmulesti">
		<lightning-breadcrumbs class="liste-max-width">
			<lightning-breadcrumb label="Tolketjenesten" href="/s/" onclick={goToHome}>
			</lightning-breadcrumb>
			<lightning-breadcrumb label="Mine bestillinger" href="/s/mine-bestillinger" onclick={goToMyRequests}>
			</lightning-breadcrumb>
		</lightning-breadcrumbs>
	</div>

	<div class="liste liste-max-width">
		<div class="right-content">
			<lightning-button title="Ny bestilling" class="slds-m-top-small right-button" variant="brand"
				label="Ny bestilling" onclick={goToNewRequest}>
			</lightning-button>
			<lightning-input type="checkbox" class="filter-list-checkbox"
				label="Vis fullfÃ¸rte, avlyste og udekte bestillinger" name="ShowAll" onchange={handleChecked}>
			</lightning-input>
			<lightning-combobox class="mobile-only" name="mobileSorting" label="Sorter etter"
				value={mobileSortingDefaultValue} options={sortingOptions} onchange={handleMobileSorting}>
			</lightning-combobox>
		</div>
		<lightning-datatable key-field="StartTime__c" data={requests} columns={columns} hide-checkbox-column="true"
			default-sort-direction={defaultSortDirection} sorted-direction={sortDirection} sorted-by={sortedBy}
			onsort={onHandleSort} onrowaction={handleRowAction}>
		</lightning-datatable>
	</div>

	<div if:true={isDetails} class="ReactModal__Overlay ReactModal__Overlay--after-open modal__overlay"
		style="z-index: 9999; background-color: rgba(50, 65, 79, 0.8);">
		<div class="ReactModal__Content ReactModal__Content--after-open  navno-dekorator comments-dialog-container"
			tabindex="-1" role="dialog">
			<section>
				<lightning-record-view-form object-api-name="HOT_Request__c" record-id={record.Id}>
					<div class="slds-grid slds-gutters">
						<div class="slds-col slds-size_1-of-2">
							<lightning-output-field field-name="Subject__c" class="hidden-helptext">
							</lightning-output-field>
							<lightning-output-field field-name="Description__c" class="hidden-helptext">
							</lightning-output-field>
							<lightning-output-field field-name="StartTime__c"></lightning-output-field>
							<lightning-output-field field-name="EndTime__c"></lightning-output-field>
							<span class="slds-form-element__label lightning-output-field__label">Status</span>
							</br>
							<lightning-formatted-text value={record.ExternalRequestStatus__c}
								class="lightning-output-field"></lightning-formatted-text>
							<div if:true={showInterpreters}>
								<span class="slds-form-element__label lightning-output-field__label">Tolker</span>
								</br>
								<template iterator:it={interpreters}>
									<lightning-formatted-text value={it.value} class="lightning-output-field"
										key={it.value}>
									</lightning-formatted-text>
								</template>
							</div>
						</div>
						<div class="slds-col slds-size_1-of-2">
							<lightning-output-field field-name="MeetingStreet__c"></lightning-output-field>
							<lightning-output-field field-name="MeetingPostalCode__c"></lightning-output-field>
							<lightning-output-field field-name="MeetingPostalCity__c"></lightning-output-field>
							<lightning-output-field field-name="InterpretationStreet__c"></lightning-output-field>
							<lightning-output-field field-name="InterpretationPostalCode__c">
							</lightning-output-field>
							<lightning-output-field field-name="InterpretationPostalCity__c">
							</lightning-output-field>

						</div>
					</div>
				</lightning-record-view-form>
			</section>
			<button class="lukknapp lukknapp--overstHjorne modal__lukkknapp--shake" onclick={abortShowDetails}>
				<span class="text-hide">Lukk</span>
			</button>
		</div>
	</div>

</template>