<template>
	<template if:false={submitted}>
		<h1 class="slds-text-heading_large">Interpretation order form</h1>
		<lightning-messages>
		</lightning-messages>
		<lightning-record-edit-form object-api-name="HOT_Request__c" density="comfy" onsubmit={handleSuccess}>
			<lightning-messages>
			</lightning-messages>
			<lightning-input-field field-name="Subject__c" value={fieldValues.Subject__c} title="Subject">
			</lightning-input-field>
			<h2 class="slds-text-heading_small">Time and place</h2>
			<lightning-input-field field-name="StartTime__c" onchange={handleChange}>
			</lightning-input-field>
			<lightning-input-field field-name="EndTime__c" value={startTime}>
			</lightning-input-field>
			</br>
			<lightning-input-field field-name="MeetingAddress__c" value={fieldValues.MeetingAddress__c}>
			</lightning-input-field>
			<div class="slds-grid slds-gutters">
				<div class="slds-col slds-size_1-of-3">
					<lightning-input-field field-name="MeetingPostalCode__c" value={fieldValues.MeetingPostalCode__c}>
					</lightning-input-field>
				</div>
				<div class="slds-col slds-size_2-of-3">
					<lightning-input-field field-name="MeetingPostalCity__c" value={fieldValues.MeetingPostalCity__c}>
					</lightning-input-field>
				</div>
			</div>
			</br>

			<lightning-input type="toggle" label="Is Meeting Location the same as Interpreter Location?"
				name="sameLocationToggle" onchange={toggled} checked={sameLocation}></lightning-input>

			<template if:false={sameLocation}>
				<lightning-input-field field-name="InterpretationAddress__c"
					value={fieldValues.InterpretationAddress__c}>
				</lightning-input-field>
				<div class="slds-grid slds-gutters">
					<div class="slds-col slds-size_1-of-3">
						<lightning-input-field field-name="InterpretationPostalCode__c"
							value={fieldValues.InterpretationPostalCode__c}>
						</lightning-input-field>
					</div>
					<div class="slds-col slds-size_2-of-3">
						<lightning-input-field field-name="InterpretationPostalCity__c"
							value={fieldValues.InterpretationPostalCity__c}>
						</lightning-input-field>
					</div>
				</div>
				</br>
			</template>

			<lightning-input-field field-name="Description__c" value={fieldValues.Description__c}>
			</lightning-input-field>
			<lightning-button title="Submit Request" class="slds-m-left_x-small" type="submit" variant="brand"
				label="Submit request" onclick={handleSubmit}>
			</lightning-button>
			<lightning-button title="Abort Request" variant="base" label="Cancel" onclick={goHome}
				class="slds-m-left_x-small"></lightning-button>
		</lightning-record-edit-form>
	</template>

	<template if:true={submitted}>
		<h1 class="slds-text-heading_medium">Bestilling er opprettet!</h1>
		<lightning-button title="Go to My Requests" class="slds-m-top-small" variant="brand" label="Go to My Requests"
			onclick={goToMyRequests}>
		</lightning-button>
		</br>
		<lightning-button title="Back" variant="base" label="Back" onclick={goHome} class="slds-m-top-small">
		</lightning-button>
	</template>

</template>