<template>

	<div class="hovedbanner tolketjenesten">
		<h1 class="typo-systemtittel">Bestille tolketjenester</h1>
	</div>

	<div class="brodsmulesti">
		<lightning-breadcrumbs class="skjema-max-width">
			<lightning-breadcrumb label="Tolketjenesten" href="/tolketjenesten/s/">
			</lightning-breadcrumb>
			<lightning-breadcrumb label="Ny bestilling" href="/tolketjenesten/s/ny-bestilling">
			</lightning-breadcrumb>
		</lightning-breadcrumbs>
	</div>
	<div if:false={edit} class="main-content submitted-false create-form">
		<div class="skjema-ikon tolketjenesten">
			<img class="skjema-ikon-img" src="/sfsites/c/resource/1585817547000/SkjemaIkon"></img>
		</div>
		<div class="skjema skjema-max-width">
			<lightning-record-edit-form object-api-name="HOT_Request__c" density="comfy" onsuccess={handleSuccess}
				onerror={handleError} onsubmit={handleSubmit}>
				<lightning-input-field class="tolk-skjema-input" field-name="Subject__c" value={fieldValues.Subject__c}
					title="Hva trenger du tolk til?" required>
				</lightning-input-field>
				</br>
				<template iterator:it={times}>
					<div class="informasjonstavle__bildepaneler" key={it.value.id}>
						<lightning-input type="date" class="tolk-skjema-input date" date-style="short"
							onchange={setDate} name={it.value.id} value="" required>
						</lightning-input>
						<lightning-input style="margin-left: 2rem;" type="time" class="tolk-skjema-input start-tid"
							onchange={setStartTime} name={it.value.id} value="" required>
						</lightning-input>
						<lightning-input style="margin-left: 2rem;" type="time" class="tolk-skjema-input slutt-tid"
							onchange={setEndTime} name={it.value.id} value="" required>
						</lightning-input>
						<lightning-button variant="base" style="margin-top: 2rem;" icon-name="utility:close"
							class="slds-m-left_x-small" onclick={removeTime} name={it.value.id}>
						</lightning-button>
					</div>
				</template>
				<lightning-button style="margin-top: 1rem;" label="Legg til tider" icon-name="utility:add"
					class="slds-m-left_x-small" onclick={addTime}>
				</lightning-button>

				</br>
				<lightning-input-field class="tolk-skjema-input" field-name="MeetingStreet__c"
					value={fieldValues.MeetingStreet__c} required>
				</lightning-input-field>
				<div class="slds-grid slds-gutters">
					<div class="slds-col slds-size_2-of-5">
						<lightning-input-field class="tolk-skjema-input postnummer" title="Postnummer"
							field-name="MeetingPostalCode__c" value={fieldValues.MeetingPostalCode__c}>
						</lightning-input-field>
					</div>
					<div class="slds-col slds-size_3-of-5">
						<lightning-input-field class="tolk-skjema-input" title="Poststed"
							field-name="MeetingPostalCity__c" value={fieldValues.MeetingPostalCity__c}>
						</lightning-input-field>
					</div>
				</div>
				</br>


				<lightning-radio-group class="nav-radio-button-group" name="radioGroup"
					label="Er oppmøtested det samme som tolkested?" options={options} value={value} type="radio"
					onchange={toggled}></lightning-radio-group>



				<div if:false={sameLocation}>
					<lightning-input-field class="tolk-skjema-input" title="Tolkeaddresse"
						field-name="InterpretationStreet__c" value={fieldValues.InterpretationStreet__c}>
					</lightning-input-field>
					<div class="slds-grid slds-gutters">
						<div class="slds-col slds-size_2-of-5">
							<lightning-input-field class="tolk-skjema-input postnummer" title="Postnummer"
								field-name="InterpretationPostalCode__c"
								value={fieldValues.InterpretationPostalCode__c}>
							</lightning-input-field>
						</div>
						<div class="slds-col slds-size_3-of-5">
							<lightning-input-field class="tolk-skjema-input" title="Poststed"
								field-name="InterpretationPostalCity__c"
								value={fieldValues.InterpretationPostalCity__c}>
							</lightning-input-field>
						</div>
					</div>
				</div>
				</br>
				<lightning-input-field class="tolk-skjema-input ikke-sensitiv-fritekst" title="Tilleggsopplysninger"
					field-name="Description__c" value={fieldValues.Description__c}>
				</lightning-input-field>

				<lightning-messages aria-live="assertive">
				</lightning-messages>
				<div class="button-container">
					<lightning-button title="Send inn bestilling" class="slds-m-left_x-small" type="submit"
						variant="brand" label="SEND INN" onclick={handleSubmit}>
					</lightning-button>
					</br>
					<lightning-button title="Avbryt" variant="base" label="Avbryt" onclick={goHome}
						class="slds-m-left_x-small back-button">
					</lightning-button>
				</div>
			</lightning-record-edit-form>
		</div>
	</div>

	<div class="main-content hidden submitted-true">
		<lightning-icon icon-name="utility:success" alternative-text="Suksess" title="Suksess" variant="success"
			size="large">
		</lightning-icon>
		</br>
		<h2 class="typo-undertittel h2-successMessage" id="successMessage" tabindex="-1">Bestillingen er sendt</h2>

		<lightning-file-upload if:false={hide} label="Legg til filer" name="fileUploader" accept={acceptedFormat}
			record-id={recordId} onuploadfinished={handleUploadFinished} multiple>
		</lightning-file-upload>
		</br>
		<lightning-button title="Gå til mine bestillinger" class="slds-m-top-small" variant="brand" label="OK"
			onclick={goToMyRequests}>
		</lightning-button>
	</div>

	<div if:true={edit} class="main-content submitted-false">
		<div class="skjema-ikon tolketjenesten">
			<img class="skjema-ikon-img" src="/sfsites/c/resource/1585817547000/SkjemaIkon"></img>
		</div>
		<div class="skjema skjema-max-width">
			<lightning-record-edit-form object-api-name="HOT_Request__c" record-id={recordId} density="comfy"
				onsuccess={handleSuccess} onerror={handleError} onsubmit={handleSubmit}>
				<lightning-input-field class="tolk-skjema-input" field-name="Subject__c" value={fieldValues.Subject__c}
					title="Hva trenger du tolk til?" required>
				</lightning-input-field>
				</br>
				<lightning-input-field class="tolk-skjema-input start-tid" field-name="StartTime__c" date-style="short"
					onchange={handleChange} value={fieldValues.StartTime__c} required>
				</lightning-input-field>
				<lightning-input-field class="tolk-skjema-input slutt-tid" field-name="EndTime__c" date-style="short"
					value={fieldValues.EndTime__c} onchange={setEndTime} required>
				</lightning-input-field>
				</br>
				<lightning-input-field class="tolk-skjema-input" field-name="MeetingStreet__c"
					value={fieldValues.MeetingStreet__c} required>
				</lightning-input-field>
				<div class="slds-grid slds-gutters">
					<div class="slds-col slds-size_2-of-5">
						<lightning-input-field class="tolk-skjema-input postnummer" title="Postnummer"
							field-name="MeetingPostalCode__c" value={fieldValues.MeetingPostalCode__c}>
						</lightning-input-field>
					</div>
					<div class="slds-col slds-size_3-of-5">
						<lightning-input-field class="tolk-skjema-input" title="Poststed"
							field-name="MeetingPostalCity__c" value={fieldValues.MeetingPostalCity__c}>
						</lightning-input-field>
					</div>
				</div>
				</br>


				<lightning-radio-group class="nav-radio-button-group" name="radioGroup"
					label="Er oppmøtested det samme som tolkested?" options={options} value={value} type="radio"
					onchange={toggled}></lightning-radio-group>



				<div if:false={sameLocation}>
					<lightning-input-field class="tolk-skjema-input" title="Tolkeaddresse"
						field-name="InterpretationStreet__c" value={fieldValues.InterpretationStreet__c}>
					</lightning-input-field>
					<div class="slds-grid slds-gutters">
						<div class="slds-col slds-size_2-of-5">
							<lightning-input-field class="tolk-skjema-input postnummer" title="Postnummer"
								field-name="InterpretationPostalCode__c"
								value={fieldValues.InterpretationPostalCode__c}>
							</lightning-input-field>
						</div>
						<div class="slds-col slds-size_3-of-5">
							<lightning-input-field class="tolk-skjema-input" title="Poststed"
								field-name="InterpretationPostalCity__c"
								value={fieldValues.InterpretationPostalCity__c}>
							</lightning-input-field>
						</div>
					</div>
				</div>
				</br>
				<lightning-input-field class="tolk-skjema-input ikke-sensitiv-fritekst" title="Tilleggsopplysninger"
					field-name="Description__c" value={fieldValues.Description__c}>
				</lightning-input-field>

				<lightning-file-upload if:false={hide} label="Legg til filer" name="fileUploader"
					accept={acceptedFormat} record-id={recordId} onuploadfinished={handleUploadFinished} multiple>
				</lightning-file-upload>

				<lightning-messages aria-live="assertive">
				</lightning-messages>
				<div class="button-container">
					<lightning-button title="Send inn bestilling" class="slds-m-left_x-small" type="submit"
						variant="brand" label="SEND INN" onclick={handleSubmit}>
					</lightning-button>
					</br>
					<lightning-button title="Avbryt" variant="base" label="Avbryt" onclick={goHome}
						class="slds-m-left_x-small back-button">
					</lightning-button>
				</div>
			</lightning-record-edit-form>
		</div>
	</div>

</template>