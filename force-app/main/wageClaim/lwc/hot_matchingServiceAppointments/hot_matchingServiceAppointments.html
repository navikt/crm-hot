<template>
    <lightning-datatable
        if:true={showList}
        key-field="Id"
        data={serviceAppointments}
        columns={columns}
        hide-checkbox-column="true"
        default-sort-direction={defaultSortDirection}
        sorted-direction={sortDirection}
        sorted-by={sortedBy}
        onsort={onHandleSort}
        onrowaction={handleRowAction}
    >
    </lightning-datatable>
    <div class="success-container">
        <div if:true={loading} style="display: flex; justify-content: center">
            <div class="loader"></div>
        </div>

        <div if:true={assigned} class="success-container">
            <h2 style="margin: 1rem">Ressursen ble reservert på oppdraget</h2>
            <div class="button-container">
                <lightning-button
                    title="Gå til oppdrag"
                    class="slds-m-left_x-small"
                    type="button"
                    variant="brand"
                    label="Gå til oppdraget"
                    onclick={goToServiceAppointment}
                >
                </lightning-button>
            </div>
        </div>

        <div if:true={isError} class="success-container">
            <h2 style="margin: 1rem">{errorMessage}</h2>
            <div class="button-container">
                <lightning-button
                    title="tilbake"
                    class="slds-m-left_x-small"
                    type="button"
                    variant="brand"
                    label="Tilbake"
                    onclick={reset}
                >
                </lightning-button>
            </div>
        </div>
    </div>
</template>
