<template>
    <div class="main-content">
        <div if:true={isDetails}>
            <div class="record-details-container">
                <p>Oppdragsnummer: <span>{serviceAppointment.HOT_ServiceAppointmentNumber__c}</span></p>
                <p>Tid: <span>{serviceAppointment.StartAndEndDate}</span></p>
                <p>Tema: <span>{serviceAppointment.HOT_FreelanceSubject__c}</span></p>
                <p>Adresse: <span>{serviceAppointment.HOT_AddressFormated__c}</span></p>
                <p>Tolkemetode: <span>{serviceAppointment.HOT_WorkTypeName__c}</span></p>
                <p>Frigitt av: <span>{serviceAppointment.HOT_ReleasedBy__c}</span></p>
                <p>Frigitt dato: <span>{serviceAppointment.HOT_ReleaseDate__c}</span></p>
                <p>Antall påmeldte: <span>{serviceAppointment.HOT_NumberOfInterestedResources__c}</span></p>
                <p>Region: <span>{serviceAppointment.HOT_ServiceTerritoryName__c}</span></p>
                <p>Oppdragstype: <span>{serviceAppointment.HOT_AssignmentType__c}</span></p>
                <p>Frist dato: <span>{serviceAppointment.HOT_DeadlineDate__c}</span></p>
            </div>
        </div>
        <c-button
            if:false={isDetails}
            button-styling="primary"
            button-label="Meld interesse"
            aria-label="Meld interesse"
            onbuttonclick={sendInterest}
            desktop-style="width: 12rem; justify-content: center; margin-bottom: 1rem;"
            mobile-style="width: 12rem; justify-content: center; margin-bottom: 1rem;"
        >
        </c-button>
        <div if:false={noServiceAppointments}>
            <c-table
                if:false={isDetails}
                records={records}
                columns={columns}
                onrowclick={goToRecordDetails}
                checkbox="true"
                checked-rows={checkedServiceAppointments}
            ></c-table>
        </div>
        <div if:true={noServiceAppointments} style="text-align: center">
            <br />
            Det finnes ingen ledige oppdrag.
        </div>
    </div>

    <div
        class="ReactModal__Overlay ReactModal__Overlay--after-open modal__overlay commentPage hidden"
        style="z-index: 9999; background-color: rgba(50, 65, 79, 0.8)"
        tabindex="-1"
        aria-label="Legg inn kommentarer til oppdragene"
    >
        <div
            class="ReactModal__Content ReactModal__Content--after-open navno-dekorator comments-dialog-container"
            role="dialog"
            aria-labelledby="comment-header-id"
        >
            <section>
                <div>
                    <h2 id="comment-header-id" class="typo-undertittel">Legg til kommentarer til oppdragene</h2>

                    <template iterator:it={serviceAppointmentCommentDetails}>
                        <lightning-record-edit-form
                            class="comment-form"
                            key={it.value.Id}
                            object-api-name="HOT_InterestedResource__c"
                            density="comfy"
                        >
                            <div class="record-details-container">
                                <p>Tid: <span>{it.value.StartAndEndDate}</span></p>
                                <p>Tema: <span>{it.value.HOT_FreelanceSubject__c}</span></p>
                                <p>Adresse: <span>{it.value.HOT_AddressFormated__c}</span></p>
                                <p>
                                    Antall påmeldte:
                                    <span>{it.value.HOT_NumberOfInterestedResources__c}</span>
                                </p>
                                <p>Tolkemetode: <span>{it.value.HOT_WorkTypeName__c}</span></p>
                                <p>Frigitt av: <span>{it.value.HOT_ReleasedBy__c}</span></p>
                                <p>Frigitt dato: <span>{it.value.HOT_ReleaseDate__c}</span></p>
                                <p>
                                    Antall påmeldte:
                                    <span>{it.value.HOT_NumberOfInterestedResources__c}</span>
                                </p>
                                <p>Region: <span>{it.value.HOT_ServiceTerritoryName__c}</span></p>
                                <p>Oppdragstype: <span>{it.value.HOT_AssignmentType__c}</span></p>
                                <p>Frist dato: <span>{it.value.HOT_DeadlineDate__c}</span></p>
                            </div>
                            <lightning-input-field
                                class="ikke-sensitive-opplysninger comment-field"
                                field-name="Comments__c"
                            >
                            </lightning-input-field>
                        </lightning-record-edit-form>
                    </template>

                    <lightning-button
                        class="slds-m-left_x-small"
                        variant="brand"
                        type="submit"
                        label="Send inn"
                        onclick={registerInterest}
                    >
                    </lightning-button>
                </div>
            </section>
            <button class="lukknapp lukknapp--overstHjorne modal__lukkknapp--shake" onclick={closeModal}>
                <span class="text-hide">Lukk</span>
            </button>
        </div>
    </div>
</template>
